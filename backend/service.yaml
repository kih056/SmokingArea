apiVersion: v1
kind: Service
metadata:
  name: fastapi-backend-service
  labels:
    app: fastapi-backend
spec:
  selector:
    app: fastapi-backend # Deployment의 Pod와 연결
  ports:
    - protocol: TCP
      port: 80 # 외부에서 접근할 포트
      targetPort: 8000 # 컨테이너 내부의 FastAPI 포트
  type: ClusterIP # 클러스터 내부에서만 접근 가능 (프론트엔드에서 이 서비스 이름으로 백엔드에 접근)
  # 만약 외부에서 직접 접근해야 한다면 NodePort 또는 LoadBalancer 사용
  # type: NodePort
  # type: LoadBalancer # 클라우드 환경에서만 동작